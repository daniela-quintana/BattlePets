{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _properties = require('./properties');\n\nvar _properties2 = _interopRequireDefault(_properties);\n\nvar _style = require('../style');\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction onEnd(node, handler, duration) {\n  var fakeEvent = {\n    target: node,\n    currentTarget: node\n  },\n      backup;\n  if (!_properties2.default.end) duration = 0;else if (duration == null) duration = parseDuration(node) || 0;\n\n  if (_properties2.default.end) {\n    node.addEventListener(_properties2.default.end, done, false);\n    backup = setTimeout(function () {\n      return done(fakeEvent);\n    }, (duration || 100) * 1.5);\n  } else setTimeout(done.bind(null, fakeEvent), 0);\n\n  function done(event) {\n    if (event.target !== event.currentTarget) return;\n    clearTimeout(backup);\n    event.target.removeEventListener(_properties2.default.end, done);\n    handler.call(this);\n  }\n}\n\nonEnd._parseDuration = parseDuration;\nexports.default = onEnd;\n\nfunction parseDuration(node) {\n  var str = (0, _style2.default)(node, _properties2.default.duration),\n      mult = str.indexOf('ms') === -1 ? 1000 : 1;\n  return parseFloat(str) * mult;\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/osx/Box Sync/Laboratoria/Proyectos/BattlePets/node_modules/dom-helpers/transition/end.js"],"names":["Object","defineProperty","exports","value","_properties","require","_properties2","_interopRequireDefault","_style","_style2","obj","__esModule","default","onEnd","node","handler","duration","fakeEvent","target","currentTarget","backup","end","parseDuration","addEventListener","done","setTimeout","bind","event","clearTimeout","removeEventListener","call","_parseDuration","str","mult","indexOf","parseFloat","module"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,WAAW,GAAGC,OAAO,CAAC,cAAD,CAAzB;;AAEA,IAAIC,YAAY,GAAGC,sBAAsB,CAACH,WAAD,CAAzC;;AAEA,IAAII,MAAM,GAAGH,OAAO,CAAC,UAAD,CAApB;;AAEA,IAAII,OAAO,GAAGF,sBAAsB,CAACC,MAAD,CAApC;;AAEA,SAASD,sBAAT,CAAgCG,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,KAAT,CAAeC,IAAf,EAAqBC,OAArB,EAA8BC,QAA9B,EAAwC;AACtC,MAAIC,SAAS,GAAG;AACdC,IAAAA,MAAM,EAAEJ,IADM;AAEdK,IAAAA,aAAa,EAAEL;AAFD,GAAhB;AAAA,MAIIM,MAJJ;AAMA,MAAI,CAACd,YAAY,CAACM,OAAb,CAAqBS,GAA1B,EAA+BL,QAAQ,GAAG,CAAX,CAA/B,KAAiD,IAAIA,QAAQ,IAAI,IAAhB,EAAsBA,QAAQ,GAAGM,aAAa,CAACR,IAAD,CAAb,IAAuB,CAAlC;;AAEvE,MAAIR,YAAY,CAACM,OAAb,CAAqBS,GAAzB,EAA8B;AAC5BP,IAAAA,IAAI,CAACS,gBAAL,CAAsBjB,YAAY,CAACM,OAAb,CAAqBS,GAA3C,EAAgDG,IAAhD,EAAsD,KAAtD;AAEAJ,IAAAA,MAAM,GAAGK,UAAU,CAAC,YAAY;AAC9B,aAAOD,IAAI,CAACP,SAAD,CAAX;AACD,KAFkB,EAEhB,CAACD,QAAQ,IAAI,GAAb,IAAoB,GAFJ,CAAnB;AAGD,GAND,MAMOS,UAAU,CAACD,IAAI,CAACE,IAAL,CAAU,IAAV,EAAgBT,SAAhB,CAAD,EAA6B,CAA7B,CAAV;;AAEP,WAASO,IAAT,CAAcG,KAAd,EAAqB;AACnB,QAAIA,KAAK,CAACT,MAAN,KAAiBS,KAAK,CAACR,aAA3B,EAA0C;AAC1CS,IAAAA,YAAY,CAACR,MAAD,CAAZ;AACAO,IAAAA,KAAK,CAACT,MAAN,CAAaW,mBAAb,CAAiCvB,YAAY,CAACM,OAAb,CAAqBS,GAAtD,EAA2DG,IAA3D;AACAT,IAAAA,OAAO,CAACe,IAAR,CAAa,IAAb;AACD;AACF;;AAEDjB,KAAK,CAACkB,cAAN,GAAuBT,aAAvB;AAEApB,OAAO,CAACU,OAAR,GAAkBC,KAAlB;;AAGA,SAASS,aAAT,CAAuBR,IAAvB,EAA6B;AAC3B,MAAIkB,GAAG,GAAG,CAAC,GAAGvB,OAAO,CAACG,OAAZ,EAAqBE,IAArB,EAA2BR,YAAY,CAACM,OAAb,CAAqBI,QAAhD,CAAV;AAAA,MACIiB,IAAI,GAAGD,GAAG,CAACE,OAAJ,CAAY,IAAZ,MAAsB,CAAC,CAAvB,GAA2B,IAA3B,GAAkC,CAD7C;AAGA,SAAOC,UAAU,CAACH,GAAD,CAAV,GAAkBC,IAAzB;AACD;;AACDG,MAAM,CAAClC,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _properties = require('./properties');\n\nvar _properties2 = _interopRequireDefault(_properties);\n\nvar _style = require('../style');\n\nvar _style2 = _interopRequireDefault(_style);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction onEnd(node, handler, duration) {\n  var fakeEvent = {\n    target: node,\n    currentTarget: node\n  },\n      backup;\n\n  if (!_properties2.default.end) duration = 0;else if (duration == null) duration = parseDuration(node) || 0;\n\n  if (_properties2.default.end) {\n    node.addEventListener(_properties2.default.end, done, false);\n\n    backup = setTimeout(function () {\n      return done(fakeEvent);\n    }, (duration || 100) * 1.5);\n  } else setTimeout(done.bind(null, fakeEvent), 0);\n\n  function done(event) {\n    if (event.target !== event.currentTarget) return;\n    clearTimeout(backup);\n    event.target.removeEventListener(_properties2.default.end, done);\n    handler.call(this);\n  }\n}\n\nonEnd._parseDuration = parseDuration;\n\nexports.default = onEnd;\n\n\nfunction parseDuration(node) {\n  var str = (0, _style2.default)(node, _properties2.default.duration),\n      mult = str.indexOf('ms') === -1 ? 1000 : 1;\n\n  return parseFloat(str) * mult;\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}